{"version":3,"sources":["Shared/APIService/APIRequest.js","Shared/PageLoader/Spinner.js","Shared/ErrorBanner/ErrorBanner.js","Shared/Input/Input.js","Shared/InputValidator/InputValidator.js","WeatherLookup/WeatherLookup.js","Shared/LayoverSearch/LayoverSearch.js","WeatherDisplay/WeatherDisplay.js","Geolocation/geolocation.js","App.js","index.js"],"names":["getWeatherFromParams","userLocation","a","injectParams","latitude","longitude","param","value","fetch","process","result","json","parseResult","Spinner","props","className","children","ErrorBanner","Input","setlookupParams","useState","showErrorBanner","setShowErrorBanner","useEffect","window","scrollTo","Fragment","id","type","onChange","event","setTimeout","inputToBeValidated","target","trim","paramType","parseInt","RegExp","test","prevState","isvalid","replace","indexOf","placeholder","WeatherLookup","lookupParams","style","mainPage","onSubmit","preventDefault","unwrapLocationParams","setUserLocation","disabled","LayoverSearch","close","onClick","xmlns","viewBox","fill","stroke","strokeMiterlimit","strokeWidth","d","strokeLinecap","strokeLinejoin","WeatherDisplay","name","coord","lat","lon","main","temp","feels_like","weather","displaySearch","setDisplaySearch","imgsrc","icon","prev","src","alt","toString","split","description","Geolocation","foundWeather","setFoundWeather","isloading","setIsLoading","error","setError","userIsSharingLocation","coords","userIsNotSharingLocation","navigator","geolocation","getCurrentPosition","getWeather","cod","message","typeOfImg","substring","toLowerCase","App","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"iXAEMA,EAAoB,uCAAG,WAAMC,GAAN,mBAAAC,EAAA,6DACnBC,EAAgBF,EAAaG,SAAd,cAAiFH,EAAaG,SAA9F,gBAA8GH,EAAaI,WAA3H,UAA4BJ,EAAaK,MAAzC,YAAkDL,EAAaM,MAA/D,OADI,SAEJC,MAAM,mDAAD,OAAoDL,EAApD,kBAA0EM,mCAA1E,oBAFD,cAEnBC,EAFmB,gBAGCA,EAAOC,OAHR,cAGnBC,EAHmB,yBAIlBA,GAJkB,2CAAH,sD,eCQXC,EARC,SAACC,GACb,OACI,qBAAKC,UAAY,oBAAjB,SACA,qBAAKA,UAAU,UAAf,SAA0BD,EAAME,cCEzBC,G,MAJK,SAACH,GACjB,OAAO,mBAAGC,UAAU,eAAb,SAA6BD,EAAME,aC6C/BE,EA7CD,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,gBACZ,EAA8CC,oBAAS,GAAvD,mBAAOC,EAAP,KAAwBC,EAAxB,KAoCA,OALAC,qBAAU,WACNC,OAAOC,SAAS,EAAG,KAClB,IAID,eAAC,IAAMC,SAAP,WACKL,GAAmB,cAAC,EAAD,UAAa,kFACjC,uBAAOM,GAAG,eAAeC,KAAO,OAAOC,SArC3B,SAACC,GACjBC,YAAW,WACP,ICTmBC,EDSfzB,EAAQuB,EAAMG,OAAO1B,MAAM2B,OAC3BC,EAAYC,SAAS7B,GAAQ,MAAM,ICVpByB,EDWDzB,ECVT,IAAI8B,OAAO,cAEhBC,KAAKN,IADS,6BAIAM,KAAKN,IDMnBV,GAAmB,GACnBH,GAAgB,SAAAoB,GAAS,kCAClBA,GADkB,IAErBC,SAAQ,EACRlC,MAAM6B,EACN5B,MAAMA,EAAMkC,QAAQ,OAAO,cAKd,MAAdN,GAAsB,KAAKG,KAAK/B,KAAkC,IAAxBA,EAAMmC,QAAQ,MACvDpB,GAAmB,GAEX,KAATf,GACCe,GAAmB,GAEvBH,GAAgB,SAAAoB,GAAS,kCAClBA,GADkB,IAErBC,SAAQ,UAGlB,MAWgEG,YAAY,0BElBvEC,G,MAtBO,SAAC9B,GACnB,MAAwCM,mBAAS,CAACd,MAAM,KAAKC,MAAM,GAAGiC,SAAQ,IAA9E,mBAAOK,EAAP,KAAqB1B,EAArB,KAUA,OACI,sBAAKJ,UAAY,mBAAmB+B,MAAQ,CAAC,gBAAoBhC,EAAMiC,UAAY,UAAnF,UACKjC,EAAMiC,UAAY,mDACnB,uBAAMC,SAVM,SAAAlB,GAChBA,EAAMmB,iBACN,qBAA0BJ,GACpBK,EAAuB,CAAC5C,MAD9B,EAAOA,MAC6BC,MADpC,EAAaA,OAEbO,EAAMqC,gBAAgBD,IAMWnC,UAAYD,EAAMiC,SAA8B,OAAnB,mBAA1D,UACA,cAAC,EAAD,CAAO5B,gBAAiBA,EAAiBZ,MAAQsC,EAAatC,QAC9D,wBAAQqB,KAAK,SAASrB,MAAM,SAAS6C,UAAWP,EAAaL,QAA7D,4BCJGa,G,MAZO,SAAC,GAA6B,IAA5BF,EAA2B,EAA3BA,gBAAiBG,EAAU,EAAVA,MAIrC,OACI,sBAAKvC,UAAY,2BAAjB,UACI,sBAAMA,UAAU,iBAAiBwC,QALjB,WACpBD,GAAM,IAIF,SAA4D,sBAAKE,MAAM,6BAA6BzC,UAAU,UAAU0C,QAAQ,cAApE,UAAkF,sBAAMC,KAAK,OAAOC,OAAO,UAAUC,iBAAiB,KAAKC,YAAY,KAAKC,EAAE,6EAA6E/C,UAAU,sCAAqC,sBAAM2C,KAAK,OAAOC,OAAO,UAAUI,cAAc,QAAQC,eAAe,QAAQH,YAAY,KAAKC,EAAE,mCAAmC/C,UAAU,2CACte,cAAC,EAAD,CAAeoC,gBAAiBA,SCmB7Bc,G,MA1BQ,SAAC,GAA4E,IAA3EC,EAA0E,EAA1EA,KAA0E,IAApEC,MAAOC,EAA6D,EAA7DA,IAAIC,EAAyD,EAAzDA,IAAyD,IAApDC,KAAMC,EAA8C,EAA9CA,KAAMC,EAAwC,EAAxCA,WAAYC,EAA4B,EAA5BA,QAAStB,EAAmB,EAAnBA,gBAC5E,EAAuC/B,oBAAS,GAAhD,mBAAMsD,EAAN,KAAoBC,EAApB,KACMC,EAAM,2CAAuCH,EAAQ,GAAGI,KAAlD,WAEZtD,qBAAU,WACNC,OAAOC,SAAS,EAAG,KAClB,IAML,OACI,eAAC,IAAMC,SAAP,WACKgD,EAAgB,cAAC,EAAD,CAAepB,MAAOqB,EAAkBxB,gBAAiBA,IAAqB,sBAAMpC,UAAU,iBAAiBwC,QANhH,WACpBoB,GAAiB,SAACG,GAAD,OAASA,MAKyE,SAA2D,qBAAKtB,MAAM,6BAA6BzC,UAAU,cAAc0C,QAAQ,cAAxE,SAAsF,sBAAMK,EAAE,qRAAqRJ,KAAK,UAAU3C,UAAU,0BACtiB,sBAAKA,UAAY,gBAAjB,UACI,8BAAK,qBAAKA,UAAW,eAAegE,IAAKH,EAAQI,IAAI,mBACrD,qBAAKjE,UAAU,OAAf,SAAuBwD,EAAKU,WAAWC,MAAM,KAAK,KAClD,qBAAKnE,UAAU,cAAf,SAA8B0D,EAAQ,GAAGU,cACzC,qBAAKpE,UAAU,WAAf,SAA2BmD,IAC3B,sBAAKnD,UAAU,cAAf,UAA8BqD,EAAI,wCAAoBC,KACtD,8CAAiBG,EAAWS,WAAWC,MAAM,KAAK,cC4CjDE,G,MA5DI,WACnB,MAAwChE,mBAAS,IAAjD,mBAAOnB,EAAP,KAAqBkD,EAArB,KACA,EAAwC/B,mBAAS,IAAjD,mBAAOiE,EAAP,KAAqBC,EAArB,KACA,EAAkClE,oBAAS,GAA3C,mBAAOmE,EAAP,KAAkBC,EAAlB,KACA,EAAyBpE,mBAAS,IAAlC,mBAAOqE,EAAP,KAAaC,EAAb,KACMC,EAAwB,SAACjF,GAC7ByC,EAAgBzC,EAAOkF,QACvBJ,GAAa,IAGTK,EAA2B,WAC/BL,GAAa,IAGfjE,qBAAU,WACHC,OAAOsE,UAAUC,cACpBP,GAAa,GACbhE,OAAOsE,UAAUC,YAAYC,mBAAmBL,EAAsBE,MAEvE,IAEFtE,qBAAU,WACRmE,EAAS,IACV,IAAMO,EAAU,uCAAG,4BAAA/F,EAAA,0DACdD,EADc,uBAEfuF,GAAa,GAFE,SAGOxF,EAAqBC,GAH5B,OAII,OADbwE,EAHS,QAIJyB,IACTZ,EAAgBb,IAGhBiB,EAASjB,EAAQ0B,SACjBb,EAAgB,KAElBE,GAAa,GAXE,2CAAH,qDAchBS,MACE,CAAChG,IAGH,GAAGsF,EACD,OAAO,cAAC,EAAD,UAAS,8BAFK,iCAIvB,IAAIa,EAAYf,GAAgBA,EAAaZ,QAAQ,GAAGI,KAMxD,MAJgC,OAA7BuB,EAAUC,UAAU,EAAE,KACvBD,EAAYf,EAAaZ,QAAQ,GAAGH,KAAKgC,eAIzC,sBAAKvF,UAAS,4BAAyBsE,EAAa,mBAAmB,IAAMvC,MAAQ,CAAC,gBAAoBuC,EAAF,wJACtBe,EADsB,SACJ,QADpG,UAEGX,GAAS,cAAC,EAAD,UAAcA,MACrBxF,GAAgBwF,IAAU,cAAC,EAAD,CAAetC,gBAAiBA,EAAiBJ,UAAU,MACrFsC,GAAgB,cAAC,EAAD,2BAAoBA,GAApB,IAAkClC,gBAAiBA,UCnD/DoD,MAVf,WAGE,OACE,qBAAKxF,UAAU,MAAf,SACE,cAAC,EAAD,O,iBCFNyF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAeC,SAAWlG,eAA1B,SACA,cAAC,EAAD,QAGFmG,SAASC,eAAe,W","file":"static/js/main.5bef8e65.chunk.js","sourcesContent":["\n\nconst getWeatherFromParams = async(userLocation)=>{\n    const injectParams = !userLocation.latitude ? `${userLocation.param}=${userLocation.value},us`:`lat=${userLocation.latitude}&lon=${userLocation.longitude}`;\n    const result = await fetch(`https://api.openweathermap.org/data/2.5/weather?${injectParams}&appid=${process.env.REACT_APP_WEATHER_KEY}&units=imperial`);\n    const parseResult = await result.json();\n    return parseResult;\n  \n}\n\nexport {getWeatherFromParams}","import React from 'react'\nimport '../PageLoader/Spinner.css'\nconst Spinner = (props)=>{\n    return(\n        <div className = 'weather-container'>\n        <div className=\"spinner\">{props.children}</div>\n        </div>\n    )\n}\n\nexport default Spinner;","import React from 'react';\nimport '../ErrorBanner/ErrorBanner.css'\n\nconst ErrorBanner = (props)=>{\n    return <p className=\"error-banner\">{props.children}</p>\n}\n\nexport default ErrorBanner; ","import React,{useState, useEffect} from 'react';\nimport { inputValidator } from '../InputValidator/InputValidator';\nimport ErrorBanner from '../ErrorBanner/ErrorBanner';\n\nconst Input = ({setlookupParams})=>{\n    const [showErrorBanner, setShowErrorBanner] = useState(false);\n    \n    const verifyInput = (event)=>{\n        setTimeout(()=>{\n            let value = event.target.value.trim();\n            let paramType = parseInt(value)? 'zip':'q';\n            if(inputValidator(value)) {\n                setShowErrorBanner(false);\n                setlookupParams(prevState=>({\n                    ...prevState,\n                    isvalid:true,\n                    param:paramType,\n                    value:value.replace(/\\s+/g,'%20')\n                }));\n                \n            }\n            else {\n                if(paramType === 'q' && !/\\d/.test(value) && value.indexOf(' ') !== -1){\n                    setShowErrorBanner(true);\n                }\n                if(value ===''){\n                    setShowErrorBanner(false);\n                }\n                setlookupParams(prevState=>({\n                    ...prevState,\n                    isvalid:false\n                }));          \n            }\n        },500)\n    }\n\n    useEffect(() => {\n        window.scrollTo(0, 0)\n      }, []);\n    \n\n    return(\n        <React.Fragment>\n            {showErrorBanner && <ErrorBanner><div>Don't forget the comma between city and state</div></ErrorBanner>}\n            <input id=\"lookUpParams\" type = 'text' onChange={verifyInput} placeholder=\"12345 or City, ST\"></input>\n        </React.Fragment>\n    )\n}\n\nexport default Input;","export const inputValidator = (inputToBeValidated)=>{\n    const zipRegex = new RegExp(/\\b\\d{5}\\b/g);\n    const cityAndStateRegex = /\\b[a-zA-Z]+,[ ]?[A-Z]{2}\\b/;\n    if(zipRegex.test(inputToBeValidated)){\n        return true;\n    }\n    else if(cityAndStateRegex.test(inputToBeValidated)){\n        return true;\n    }\n    return false; \n}","import React,{useState} from 'react'\nimport Input from '../Shared/Input/Input';\nimport '../WeatherLookup/WeatherLookup.css'\n\nconst WeatherLookup = (props)=>{\n    const [lookupParams, setlookupParams] = useState({param:null,value:'',isvalid:false});\n    \n\n    const verifyInput = event =>{\n        event.preventDefault();\n        const {param,value} = {...lookupParams};\n        const unwrapLocationParams = {param,value};\n        props.setUserLocation(unwrapLocationParams);\n    }\n\n    return(\n        <div className = 'lookup-container' style ={{\"justifyContent\" : !props.mainPage && 'center'}}>\n            {props.mainPage && <h1>Check The Weather</h1>}\n            <form onSubmit={verifyInput} className={!props.mainPage ? 'secondary-lookup':'none'}>\n            <Input setlookupParams={setlookupParams} value ={lookupParams.value}   />\n            <button type=\"submit\" value=\"Submit\" disabled={!lookupParams.isvalid}>Submit</button>\n            </form>\n        </div>\n        \n    )\n}\nexport default WeatherLookup;","import React from 'react';\nimport WeatherLookup from '../../WeatherLookup/WeatherLookup';\nimport '../LayoverSearch/LayoverSearch.css'\n\nconst LayoverSearch = ({setUserLocation, close})=> {\n    const closeSearchModal =() =>{\n        close(false)\n    }\n    return (\n        <div className = \"layover-search-container\">\n            <span className='icon-container' onClick={closeSearchModal}><svg xmlns=\"http://www.w3.org/2000/svg\" className=\"ionicon\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"#af3648\" strokeMiterlimit=\"10\" strokeWidth=\"32\" d=\"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z\" className=\"colorStrokecurrentColor svgStroke\"/><path fill=\"none\" stroke=\"#af3648\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"32\" d=\"M320 320L192 192M192 320l128-128\" className=\"colorStrokecurrentColor svgStroke\"/></svg></span>\n            <WeatherLookup setUserLocation={setUserLocation}/>\n        </div>\n    )\n}\n\nexport default LayoverSearch;","import React, { useState, useEffect } from 'react'\nimport LayoverSearch from '../Shared/LayoverSearch/LayoverSearch';\nimport '../WeatherDisplay/WeatherDisplay.css';\n\nconst WeatherDisplay = ({name, coord:{lat,lon},main:{temp, feels_like},weather, setUserLocation})=>{\n    const[displaySearch,setDisplaySearch]= useState(false);\n    const imgsrc = `http://openweathermap.org/img/wn/${weather[0].icon}@2x.png`\n\n    useEffect(() => {\n        window.scrollTo(0, 0)\n      }, []);\n\n    const openSearchModal = ()=>{\n        setDisplaySearch((prev)=>!prev)\n    }\n\n    return(\n        <React.Fragment>\n            {displaySearch ? <LayoverSearch close={setDisplaySearch} setUserLocation={setUserLocation} />: <span className='icon-container' onClick={openSearchModal}><svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon-search\" viewBox=\"0 0 512 512\"><path d=\"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z\" fill=\"#af3648\" className=\"color000 svgShape\"/></svg></span>}\n            <div className = \"weather-stats\">\n                <div><img className =\"weather-icon\" src={imgsrc} alt=\"weather icon\"/></div>\n                <div className=\"temp\">{temp.toString().split('.')[0]}</div>\n                <div className='description'>{weather[0].description}</div>\n                <div className=\"cityName\">{name}</div>\n                <div className=\"coordinates\">{lat}<span>&nbsp;</span>{lon}</div>\n                <div>Feels like:{feels_like.toString().split('.')[0]}</div>\n            </div>\n        </React.Fragment>\n    )\n}\nexport default WeatherDisplay;","import React, {useEffect, useState} from 'react';\nimport {getWeatherFromParams} from '../Shared/APIService/APIRequest'\nimport Spinner from '../Shared/PageLoader/Spinner';\nimport WeatherDisplay from '../WeatherDisplay/WeatherDisplay';\nimport ErrorBanner from '../Shared/ErrorBanner/ErrorBanner';\n\nimport '../Geolocation/Geolocation.css'\nimport WeatherLookup from '../WeatherLookup/WeatherLookup';\n\nconst Geolocation =  () => {\n  const [userLocation, setUserLocation] = useState('');\n  const [foundWeather, setFoundWeather] = useState('')\n  const [isloading, setIsLoading] = useState(false);\n  const [error,setError] = useState('');\n  const userIsSharingLocation = (result)=>{  \n    setUserLocation(result.coords)\n    setIsLoading(false);\n  }\n\n  const userIsNotSharingLocation = ()=>{\n    setIsLoading(false);\n  }\n\n  useEffect(()=>{\n    if(!!window.navigator.geolocation){\n      setIsLoading(true);\n      window.navigator.geolocation.getCurrentPosition(userIsSharingLocation,userIsNotSharingLocation);\n    }\n   },[]);\n  \n   useEffect(()=>{\n     setError('');\n    const getWeather = async ()=>{\n      if(userLocation){\n        setIsLoading(true);\n        const weather = await getWeatherFromParams(userLocation);\n        if(weather.cod === 200){\n          setFoundWeather(weather);\n        }\n        else {\n          setError(weather.message);\n          setFoundWeather('');\n        }\n        setIsLoading(false);\n      }\n    }  \n    getWeather();\n    },[userLocation]);\n\n    let loadingStatement = 'Currently Loading location'\n    if(isloading){\n      return <Spinner><div>{loadingStatement}</div></Spinner>\n    }\n    let typeOfImg = foundWeather && foundWeather.weather[0].icon;\n\n    if(typeOfImg.substring(0,2) === '50'){\n      typeOfImg = foundWeather.weather[0].main.toLowerCase();\n    }\n    \n    return(\n      <div className = {`weather-container ${foundWeather?'background-image':''}`} style ={{\"backgroundImage\":!!foundWeather ?  `linear-gradient(rgba(0,0,0,.15), rgba(0,0,0,.15)),url(\n        https://weatherappreat.s3.us-west-2.amazonaws.com/weather-app-images/tinified/${typeOfImg}.jpg)`: 'none' }} >\n        {error && <ErrorBanner>{error}</ErrorBanner>}\n        {(!userLocation || error) && <WeatherLookup setUserLocation={setUserLocation} mainPage={true}/>}\n        {!!foundWeather && <WeatherDisplay {...foundWeather} setUserLocation={setUserLocation} />}\n      </div>\n      ) \n};\n\n  export default Geolocation;\n\n\n  ","import React from 'react';\nimport './App.css';\nimport Geolocation from './Geolocation/geolocation'\nfunction App() {\n \n\n  return (\n    <div className=\"App\">\n      <Geolocation/> \n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport BrowserRouter from 'react-router-dom/BrowserRouter'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename ={process.env.PUBLIC_URL}>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}